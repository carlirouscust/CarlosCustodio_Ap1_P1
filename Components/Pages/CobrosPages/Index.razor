@page "/Cobros/Index"
@rendermode InteractiveServer
@inject NavigationManager navigation
@inject CobrosService cobrosService

<PageTitle>Consulta cobros</PageTitle>

<div class="card-body shadow-lg border-3 rounded" style="background-color: #f8f9fa;">
    <div class="card-header bg-primary text-white" style="text-align: center;">
        <h3> <i class="fas fa-clipboard-list"></i> Registro de Cobros</h3>
    </div>

    @*Boton Crear*@
    <div class="col-md-3">
        <a href="/Cobros/Create" class="btn btn-primary"><span class="bi bi-plus-square mt-3"></span> Crear </a>
    </div>

    @*Tabla*@
    <table class="table table-bordered text-center">
        <thead class="bg-primary text-white">
            <tr>
                <th>Fecha</th>
                <th>Deudor</th>
                <th>Monto</th>
                <th>Ver</th>
                <th>Editar</th>
                <th>Eliminar</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in ListaCobros)
            {
                <tr>
                    <td>@item.fecha.ToString("dd/MM/yyyy")</td>
                    <td>@item.deudores.Nombres</td>
                    <td>@item.monto</td>
                    <td>
                        <a class="btn btn-outline-primary" href="/Cobros/Details/@item.cobroId">
                            <span class="bi bi-eye"></span>
                        </a>
                    </td>
                    <td>
                        <a class="btn btn-outline-success" href="/Cobros/Edit/@item.cobroId">
                            <span class="bi bi-marker-tip"></span>
                        </a>
                    </td>
                    <td>
                        <a class="btn btn-outline-danger" href="/Cobros/Delete/@item.cobroId">
                            <span style="color: red;" class="bi bi-trash3"></span>
                        </a>
                    </td>
                </tr>
            }
        </tbody>



    </table>

</div>

@code {
    public Cobros Cobros = new Cobros();
    public List<Cobros> ListaCobros = new List<Cobros>();

    protected override async Task OnInitializedAsync()
    {
        ListaCobros = await cobrosService.Listar(c => true);
    }
}

